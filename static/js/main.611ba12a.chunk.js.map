{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.jsx","services/api.js","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Button","onClick","type","className","s","button","api","data","query","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","console","log","toast","error","SearchForm","this","SearchForm_button","SearchForm_button__label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","closeModal","code","toggleModal","onBackDropClick","target","addEventListener","removeEventListener","createPortal","overlay","modal","src","imageURL","alt","ImageGalleryItem","webformatURL","largeImageURL","id","ImageGalleryItem_image","ImageGallery","images","length","map","PuffLoader","loader","color","height","width","timeout","App","loading","showModal","handleFormSubmit","fetchImages","fetchData","hits","total","prevState","window","scrollTo","top","documentElement","offsetHeight","behavior","catch","message","finally","onClickImage","prevProps","Loader","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.611ba12a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1HMVx\",\"modal\":\"Modal_modal__3LEEJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__hP52c\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2gdEc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1IaQC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3YYKM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__8XasU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2GCzJ\"};","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div>\r\n    <button type=\"button\" onClick={onClick} className={s.button}>\r\n      Load more\r\n    </button>\r\n    </div>\r\n\r\n  )\r\n};\r\nexport default Button;","\r\n    // KEY: `21647427-119fc9e63c06e8167cfe2cce4`,\r\n    // HTTP: `https://pixabay.com/api/?`,\r\nfunction data(query, page) {\r\n    return fetch(\r\n        `https://pixabay.com/api/?q=${query}&page=${page}&key=21647427-119fc9e63c06e8167cfe2cce4&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n                \r\n            return Promise.reject(new Error(`Ничего не найдено по вашему запросу `));\r\n        });\r\n}\r\n\r\nconst api = {data};\r\n\r\nexport default api;","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: '',\r\n    };\r\n\r\n    handleQueryChange = event => {\r\n        this.setState({ query: event.currentTarget.value.toLowerCase() });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if (this.state.query.trim() === '') {\r\n            toast.error('Please enter your request!');\r\n            return;\r\n        };;\r\n\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n        console.log(this.state.query)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <header className={s.Searchbar}>\r\n                    <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n                        <button type=\"submit\" className={s.SearchForm_button}>\r\n                            <span className={s.SearchForm_button__label}>Search</span>\r\n                        </button>\r\n\r\n                        <input\r\n                            className={s.SearchForm_input}\r\n                            type=\"text\"\r\n                            autoComplete=\"off\"\r\n                            autoFocus\r\n                            placeholder=\"Search images and photos\"\r\n                            value={this.state.query}\r\n                            onChange={this.handleQueryChange}\r\n                        />\r\n                    </form>\r\n                </header>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\n   ","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.closeModal);\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.closeModal);\r\n  }\r\n  closeModal = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n  onBackDropClick = event => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.onBackDropClick}>\r\n        <div className={s.modal}>\r\n          <img src={this.props.imageURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ onClick, webformatURL,largeImageURL, id}) {\r\n\r\n\r\n    return (\r\n        <div>\r\n            <li\r\n                className={s.ImageGalleryItem}\r\n                onClick={() => { onClick(largeImageURL) }}\r\n                id={id}\r\n             >\r\n                <img src={webformatURL} alt=\"\" className={s.ImageGalleryItem_image} />\r\n            </li>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\n// import { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({images, onClick}) => {\r\n    return (\r\n <ul className={s.ImageGallery} >\r\n        {images.length > 0 &&\r\n          images.map(({ id, webformatURL, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              // key={index}\r\n            webformatURL={webformatURL}\r\n              largeImageURL={largeImageURL}\r\n              onClick={onClick}\r\n          />\r\n        ))}\r\n    </ul>\r\n    );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Loader.module.css';\r\n\r\nconst PuffLoader = () => {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n      Loading ...\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PuffLoader;","import { Component } from 'react';\nimport { ToastContainer, toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport s from './App.module.css';\nimport Button from './components/Button/Button';\nimport fetchData from './services/api';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Modal from './components/Modal/Modal';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    images: [],\n    error: null,\n    loading: false,\n    largeImageURL: null,\n    showModal: false,\n  };\n  \n  handleFormSubmit = query => {\n    this.setState({ query });\n    // console.log({query})\n  };\n\n    componentDidUpdate(prevProps, prevState) {\n        const { query} = this.state;\n        \n      if (prevState.query !== query) {\n            this.fetchImages()\n      };\n    };\n    \n    fetchImages = () => {\n        this.setState({ loading: true });\n        fetchData\n            .data(this.state.query, this.state.page)\n            .then(({ hits, total }) => {\n                if (total === 0) {\n                    toast.error(`По запросу ничего не найдено! Введите другой запрос`)\n                }\n\n                this.setState(prevState => ({\n                  images: [...prevState.images, ...hits],\n                }));\n              \n              window.scrollTo({\n                top: document.documentElement.offsetHeight,\n                behavior: 'smooth',\n              });\n              \n              this.setState(prevState => ({\n                page: prevState.page + 1,\n              }));\n              \n            })\n            .then(console.log)\n            .catch(error => this.setState({ error: error.message }))\n            .finally(this.setState({ loading: false }));\n    };\n \n\n  \n  onClickImage = largeImageURL => {\n    this.toggleModal();\n    this.setState({ largeImageURL: largeImageURL });\n  };\n\n    toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        <ImageGallery images={this.state.images} onClick={this.onClickImage}/>\n        \n        {this.state.showModal && (\n          <Modal imageURL={this.state.largeImageURL} toggleModal={this.toggleModal} />\n        )}\n\n        {this.state.images.length > 0 && (\n          <Button onClick={this.fetchImages} />\n        )}\n      \n        {this.state.loading && <Loader />}\n\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__7IzwC\",\"SearchForm\":\"Searchbar_SearchForm__3r4cI\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1ads9\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1ll-4\",\"SearchForm_button__label\":\"Searchbar_SearchForm_button__label__2nFfN\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1trhm\"};"],"sourceRoot":""}